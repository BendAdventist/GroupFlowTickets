@using MudBlazor.Utilities
@inherits LayoutComponentBase

<MudThemeProvider Theme="Theme"/>
<MudDialogProvider/>
<MudSnackbarProvider/>

<MudLayout>
    <MudAppBar>
        <MudIconButton Icon="@Icons.Material.Filled.CalendarMonth"
                       Color="Color.Inherit"
                       Edge="Edge.Start"
                       OnClick="@((e) => DrawerToggle())"
                       Title="Events"/>
        <img src="J2B.png" alt="Journey to Bethlehem" width="256"/> Ticketing
        <MudSpacer />
        <LoginDisplay />
    </MudAppBar>
    <MudDrawer @bind-Open="@_drawerOpen">
        <NavMenu />
    </MudDrawer>
    <MudMainContent Class="px-8">
        <div class="my-8">
            @Body
        </div>
    </MudMainContent>
</MudLayout>

@code {
    private static readonly MudColor J2BMidnightBlue = new MudColor(10, 16, 64, 255);
    private static readonly MudColor J2BGold = new MudColor(230, 177, 61, 255);

    private static readonly MudTheme Theme = new()
    {
        Palette = new()
        {
            Primary = J2BMidnightBlue,
            Secondary = J2BGold,
            AppbarBackground = J2BMidnightBlue,
        },
        // PaletteDark = new()
        // {
        //
        // }
    };

    
    private bool _drawerOpen;

    private void DrawerToggle()
    {
        _drawerOpen = !_drawerOpen;
    }
}